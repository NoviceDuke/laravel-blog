{"version":3,"sources":["ajax-modal.js","tag-modal.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modal.js","sourcesContent":["$(document).ready(function(){\r\n\r\n\r\n\r\n    var url =\"category/\";\r\n    var old_name = \"\";\r\n\r\n    //display modal form for tag editing\r\n  $(document).on(\"click\",'.edit-modal',function(){\r\n        var category_slug = $(this).val();\r\n\r\n        $.get(url  + category_slug, function (data) {\r\n            //success data\r\n            console.log(category_slug);\r\n            $('#category_name').val(data.name);\r\n            console.log(data.name);\r\n            old_slug = category_slug;\r\n            $('#btn-save').val(\"update\");\r\n            $('#categoryModal').modal('show');\r\n        })\r\n    });\r\n\r\n    //display modal form for creating new Tag\r\n    $('#btn-add').click(function(){\r\n        $('#btn-save').val(\"add\");\r\n        $('#frmCategory').trigger(\"reset\");\r\n        $('#categoryModal').modal('show');\r\n    });\r\n\r\n    //delete tag and remove it from list\r\n\r\n    $(document).on(\"click\",'.delete-category',function(){\r\n      $.ajaxSetup({\r\n          headers: {\r\n              'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n          }\r\n      })\r\n        var category_slug = $(this).val();\r\n        console.log(category_slug);\r\n          $.ajax({\r\n           type: \"POST\",\r\n           data:{_method: 'delete'},\r\n           url: url  + category_slug,\r\n           success: function (data) {\r\n              // console.log(data);\r\n\r\n               $('#category' + category_slug).remove();\r\n           },\r\n         });\r\n        });\r\n\r\n    //create new tag / update existing tag\r\n    $(\"#btn-save\").click(function (e) {\r\n        var url='category';\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            }\r\n        })\r\n        e.preventDefault();\r\n        //used to determine the http verb to use [add=POST], [update=PUT]\r\n        var state = $('#btn-save').val();\r\n        var  type =\"POST\";\r\n        var formData = {\r\n          name:$('#category_name').val(),\r\n        }\r\n        // 更新\r\n        if (state == \"update\"){\r\n            url =url+\"/\"+old_slug;\r\n            type = \"PUT\";\r\n          }\r\n        $.ajax({\r\n\r\n          type:type,\r\n          url:url,\r\n          data:formData,\r\n          datatype:'json',\r\n          success:function(data){\r\n            // category data\r\n            var category = '<tr id=\"category' + data.id + '\"><td>' + data.id + '</td><td>' + data.name + '</td><td>' + data.created_at + '</td>';\r\n            category += '<td><button class=\"btn btn-info btn-md tag-edit\" value=\"' + data.slug + '\">Edit</button>';\r\n            category += '<button class=\"btn btn-danger btn-md  delete-tag\" value=\"' + data.slug + '\">Delete</button></td></tr>';\r\n\r\n            // state condition\r\n            if(state == \"add\"){\r\n\r\n              console.log(\"# \"+data.id+\" Add Success!!\");\r\n              console.log(\"Name: \"+data.name);\r\n              console.log(\"Slug: \"+data.slug);\r\n              $('#category_list').append(category);\r\n            }else {\r\n              console.log(\"# \"+old_slug+\" Update Success!!\");\r\n              console.log(\"Name: \"+data.name);\r\n              console.log(\"Slug: \"+data.slug);\r\n              $('#category'+old_slug).replaceWith(category);\r\n\r\n            }\r\n\r\n            $('#frmCategory').trigger(\"reset\");\r\n            $('#categoryModal').modal('hide');\r\n          },\r\n\r\n        });\r\n      });\r\n});\r\n","$(document).ready(function(){\r\n\r\n\r\n\r\n    var url =\"tag/\";\r\n    var old_name = \"\";\r\n\r\n    //display modal form for tag editing\r\n  $(document).on(\"click\",'.tag-edit',function(){\r\n        var tag_id = $(this).val();\r\n\r\n        $.get(url  + tag_id, function (data) {\r\n            //success data\r\n            console.log(tag_id);\r\n            $('#tag_name').val(data.name);\r\n            console.log(data.name);\r\n            old_id = tag_id;\r\n            $('#tag-save').val(\"update\");\r\n            $('#tagModal').modal('show');\r\n        })\r\n    });\r\n\r\n    //display modal form for creating new Tag\r\n    $('#tag-add').click(function(){\r\n        $('#tag-save').val(\"add\");\r\n        $('#frmTag').trigger(\"reset\");\r\n        $('#tagModal').modal('show');\r\n    });\r\n\r\n    //delete tag and remove it from list\r\n\r\n    $(document).on(\"click\",'.delete-tag',function(){\r\n      $.ajaxSetup({\r\n          headers: {\r\n              'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n          }\r\n      })\r\n        var tag_id = $(this).val();\r\n        console.log(tag_id);\r\n          $.ajax({\r\n           type: \"POST\",\r\n           data:{_method: 'delete'},\r\n           url: url  + tag_id,\r\n           success: function (data) {\r\n              // console.log(data);\r\n\r\n               $('#tag' + tag_id).remove();\r\n           },\r\n         });\r\n        });\r\n\r\n    //create new tag / update existing tag\r\n    $(\"#tag-save\").click(function (e) {\r\n        var url='tag';\r\n        $.ajaxSetup({\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            }\r\n        })\r\n        e.preventDefault();\r\n        //used to determine the http verb to use [add=POST], [update=PUT]\r\n\r\n\r\n        var state = $('#tag-save').val();\r\n        var  type =\"POST\";\r\n        var formData = {\r\n          name:$('#tag_name').val(),\r\n        }\r\n        // 更新\r\n        if (state == \"update\"){\r\n\r\n            url =url+\"/\"+old_id;\r\n            type = \"PUT\";\r\n          }\r\n        $.ajax({\r\n\r\n          type:type,\r\n          url:url,\r\n          data:formData,\r\n          datatype:'json',\r\n          success:function(data){\r\n            // tag data\r\n            var tag = '<tr id=\"tag' + data.id + '\"><td>' + data.id + '</td><td>' + data.name + '</td><td>' + data.created_at + '</td>';\r\n            tag += '<td><button class=\"btn btn-info btn-md tag-edit\" value=\"' + data.id + '\">Edit</button>';\r\n            tag += '<button class=\"btn btn-danger btn-md  delete-tag\" value=\"' + data.id + '\">Delete</button></td></tr>';\r\n\r\n            // state condition\r\n            if(state == \"add\"){\r\n\r\n              console.log(\"# \"+data.id+\" Add Success!!\");\r\n              console.log(\"Name: \"+data.name);\r\n              console.log(\"Slug: \"+data.slug);\r\n              $('#tag_list').append(tag);\r\n            }else {\r\n              console.log(\"# \"+old_id+\" Update Success!!\");\r\n              console.log(\"Name: \"+data.name);\r\n              console.log(\"Slug: \"+data.slug);\r\n              $('#tag'+old_id).replaceWith(tag);\r\n\r\n            }\r\n\r\n            $('#frmTag').trigger(\"reset\");\r\n            $('#tagModal').modal('hide');\r\n          },\r\n\r\n        });\r\n      });\r\n});\r\n"]}