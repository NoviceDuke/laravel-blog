$(document).ready(function(){var t="category/";$(document).on("click",".edit-modal",function(){var a=$(this).val();$.get(t+a,function(t){$("#category_name").val(t.name),old_slug=a,$("#btn-save").val("update"),$("#categoryModal").modal("show")})}),$("#btn-add").click(function(){$("#btn-save").val("add"),$("#frmCategory").trigger("reset"),$("#categoryModal").modal("show")}),$(document).on("click",".delete-category",function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}});var a=$(this).val();$.ajax({type:"POST",data:{_method:"delete"},url:t+a,success:function(t){$("#category"+a).remove()}})}),$("#btn-save").click(function(t){var a="category";$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}),t.preventDefault();var e=$("#btn-save").val(),d="POST",n={name:$("#category_name").val()};"update"==e&&(a=a+"/"+old_slug,d="PUT"),$.ajax({type:d,url:a,data:n,datatype:"json",success:function(t){var a='<tr id="category'+t.id+'"><td>'+t.id+"</td><td>"+t.name+"</td><td>"+t.created_at+"</td>";a+='<td><button class="btn btn-info btn-md tag-edit" value="'+t.slug+'">Edit</button>',a+='<button class="btn btn-danger btn-md  delete-tag" value="'+t.slug+'">Delete</button></td></tr>',"add"==e?$("#category_list").append(a):$("#category"+old_slug).replaceWith(a),$("#frmCategory").trigger("reset"),$("#categoryModal").modal("hide")}})})}),$(document).ready(function(){var t="tag/";$(document).on("click",".tag-edit",function(){var a=$(this).val();$.get(t+a,function(t){$("#tag_name").val(t.name),old_id=a,$("#tag-save").val("update"),$("#tagModal").modal("show")})}),$("#tag-add").click(function(){$("#tag-save").val("add"),$("#frmTag").trigger("reset"),$("#tagModal").modal("show")}),$(document).on("click",".delete-tag",function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}});var a=$(this).val();$.ajax({type:"POST",data:{_method:"delete"},url:t+a,success:function(t){$("#tag"+a).remove()}})}),$("#tag-save").click(function(t){var a="tag";$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}),t.preventDefault();var e=$("#tag-save").val(),d="POST",n={name:$("#tag_name").val()};"update"==e&&(a=a+"/"+old_id,d="PUT"),$.ajax({type:d,url:a,data:n,datatype:"json",success:function(t){var a='<tr id="tag'+t.id+'"><td>'+t.id+"</td><td>"+t.name+"</td><td>"+t.created_at+"</td>";a+='<td><button class="btn btn-info btn-md tag-edit" value="'+t.id+'">Edit</button>',a+='<button class="btn btn-danger btn-md  delete-tag" value="'+t.id+'">Delete</button></td></tr>',"add"==e?$("#tag_list").append(a):$("#tag"+old_id).replaceWith(a),$("#frmTag").trigger("reset"),$("#tagModal").modal("hide")}})})});